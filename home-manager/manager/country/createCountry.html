<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>
<body>
<p><a href="listCountry.html">Back</a></p>
<table border="1">
    <p id="create"></p>
    <tr>
        <td>name</td>
        <td><input type="text" id="nameCountry"></td>

    </tr>

    <tr>
        <td>
            <button id="button">create</button>
        </td>
        <td><a href="listCountry.html">back</a></td>
    </tr>
</table>
<script>
    $(document).ready(function () {
        $('#button').click(function () {
            let nameCountry = {
                name: $('#nameCountry').val(),
            }
            console.log(JSON.stringify(nameCountry))
            $.ajax({
                url: 'http://localhost:8080/api/manager/countries',
                method: 'POST',
                headers: {
                    Authorization: window.localStorage.getItem('TOKEN_KEY')
                },
                contentType: 'application/Json; charset=UTF-8',
                data: JSON.stringify(nameCountry),
                success: function () {
                    document.getElementById('create').innerHTML = "create success!"
                    return;
                },
                error: function () {
                    document.getElementById('create').innerHTML = "no them dc "
                }
            })

        })
    })
</script>
</body>
</html>